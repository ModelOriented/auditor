---
title: "Model Evaluation Audit"
author: "Alicja Gosiewska"
date: "`r Sys.Date()`"
output: html_document
vignette: >
  %\VignetteEngine{knitr::knitr}
  %\VignetteIndexEntry{Model Evaluation Audit}
  %\usepackage[UTF-8]{inputenc}
---


```{r setup, echo = FALSE}
knitr::opts_chunk$set(warning = FALSE)
knitr::opts_chunk$set(message = FALSE)
```


# Model Evaluation Audit for Classification Problem

In this vignette we present plots for classification models evaluation.


### Dataset

We work on titanic dataset form the `DALEX` package.

```{r}
titanic <- na.omit(DALEX::titanic)
titanic$survived = as.numeric(titanic$survived)-1
head(titanic)
```


### Models

We fit 2 models: glm and svm.

```{r}
model_glm <- glm(survived~., data = titanic, family = binomial)

library(e1071)
model_svm <- svm(survived~., data = titanic)
```

### Model Audit

The first step is creating `explainer` object with the `DALEX` package. Itâ€™s an object that can be used to audit a model. It wraps up a model with meta-data.

```{r}
exp_glm <- DALEX::explain(model_glm, data = titanic, y = titanic$survived)
exp_svm <- DALEX::explain(model_svm, data = titanic, y = titanic$survived, label = "svm")
```

Second step is creating `auditor_model_evaluation` object that can be further used for validating a model.

```{r}
library(auditor)
eva_glm <- model_evaluation(exp_glm)
eva_svm <- model_evaluation(exp_svm)
```


### Receiver Operating Characteristic (ROC)

`auditor_model_evaluation` object can be used for plotting charts.

```{r}
plot(eva_glm, eva_svm, type = "roc")
# or
# plot_roc(eva_glm, eva_svm)
```

### LIFT Chart

```{r}
plot(eva_glm, eva_svm, type = "lift")
# or
# plot_lift(eva_glm, eva_svm)
```



# Other methods

Other methods and plots are described in vignettes: 

* [Model Residuals audit](https://modeloriented.github.io/auditor/articles/model_residuals_audit.html)

* [Model Fit audit](https://modeloriented.github.io/auditor/articles/model_fit_audit.html)

* [Model Performance audit](https://modeloriented.github.io/auditor/articles/model_performance_audit.html)

* [Observation Influence audit](https://modeloriented.github.io/auditor/articles/observation_influence_audit.html)


